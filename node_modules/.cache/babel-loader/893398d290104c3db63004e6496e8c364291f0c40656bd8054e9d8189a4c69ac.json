{"ast":null,"code":"import _regeneratorRuntime from\"/Users/shkarupadenis/Documents/personal/TESTTASK/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/shkarupadenis/Documents/personal/TESTTASK/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/shkarupadenis/Documents/personal/TESTTASK/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/shkarupadenis/Documents/personal/TESTTASK/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/shkarupadenis/Documents/personal/TESTTASK/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/shkarupadenis/Documents/personal/TESTTASK/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{memo,useCallback,useEffect,useRef,useState}from'react';import{Input,Button,InputUpload,PositionsList}from'views/components';import{cutName,hasError,isEmail,optimizePnone,resizeFile}from'utils/helpers';import{postUserToServer}from'api';import{useToken,usePositions}from'hooks';import'./UserForm.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var UserForm=/*#__PURE__*/memo(function(_ref){var addNewUser=_ref.addNewUser,setError=_ref.setError;var form=useRef(null);var _useToken=useToken(),token=_useToken.token,getToken=_useToken.getToken;var _usePositions=usePositions(),positions=_usePositions.positions,getPositions=_usePositions.getPositions;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),errorFields=_useState2[0],seterrorFields=_useState2[1];var _useState3=useState({name:'',email:'',phone:'',photo:null,position_id:1}),_useState4=_slicedToArray(_useState3,2),formValues=_useState4[0],setFormValues=_useState4[1];useEffect(function(){getPositions();getToken();},[]);var handleErrorFields=useCallback(function(values){Object.entries(values).forEach(function(field){if(!field[1]&&!errorFields.includes(field[0])){var _hasError=errorFields.includes(\"\".concat(field[0],\"-empty\"));if(_hasError){return;}seterrorFields(function(oldNames){return[].concat(_toConsumableArray(oldNames),[\"\".concat(field[0],\"-empty\")]);});}});var fieldValues=Object.values(values);return!fieldValues.some(function(field){return!field;});},[errorFields]);var handleValidateForm=function handleValidateForm(values){var name=values.name,email=values.email,phone=values.phone,photo=values.photo;var isValidEmail=isEmail(email);var isValidName=name.length>=2&&name.length<=60;var isValidPhone=optimizePnone(phone).length===13;if(!isValidEmail&&email){var _hasError2=errorFields.includes('email-invalid');if(!_hasError2){seterrorFields(function(old){return[].concat(_toConsumableArray(old),['email-invalid']);});}}if(!isValidName&&name){var _hasError3=errorFields.includes('name-invalid');if(!_hasError3){seterrorFields(function(old){return[].concat(_toConsumableArray(old),['name-invalid']);});}}if(!isValidPhone&&phone){var _hasError4=errorFields.includes('phone-invalid');if(!_hasError4){seterrorFields(function(old){return[].concat(_toConsumableArray(old),['phone-invalid']);});}}if(photo){var fileSize=Math.round(photo.size/1024);var isValidPhoto=fileSize<5120;var _hasError5=errorFields.includes('photo-invalid');if(!isValidPhoto&&photo&&!_hasError5){seterrorFields(function(old){return[].concat(_toConsumableArray(old),['photo-invalid']);});}}return isValidEmail&&isValidName&&isValidPhone;};var isValidForm=function isValidForm(form){var name=form.name,photo=form.photo,email=form.email,phone=form.phone;var fields={name:name.trim(),photo:photo,email:email,phone:phone};var isAllFieldaFilled=handleErrorFields(fields);var isValidForm=handleValidateForm(fields);return isAllFieldaFilled&&isValidForm;};var handleOnChange=useCallback(function(value,name){setFormValues(function(oldData){return Object(_objectSpread(_objectSpread({},oldData),{},_defineProperty({},name,value)));});seterrorFields(function(oldNames){return oldNames.filter(function(item){return cutName(item)!==name;});});},[]);var handleUpload=useCallback(function(e){var _e$target=e.target,name=_e$target.name,files=_e$target.files;if(!files){return;}setFormValues(function(oldData){return Object(_objectSpread(_objectSpread({},oldData),{},_defineProperty({},name,files[0])));});seterrorFields(function(oldNames){return oldNames.filter(function(item){return cutName(item)!==name;});});},[]);var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var isValid,phone,formData,photo,result,img;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();isValid=isValidForm(formValues);if(isValid){_context.next=4;break;}return _context.abrupt(\"return\");case 4:phone=optimizePnone(formValues.phone).slice(1);formData=new FormData(form.current);formData.append('phone',phone);photo=formValues.photo;if(photo){_context.next=10;break;}return _context.abrupt(\"return\");case 10:_context.prev=10;_context.next=13;return resizeFile(photo);case 13:result=_context.sent;img=result;formData.append('photo',img);_context.next=21;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](10);console.error(_context.t0);case 21:_context.prev=21;_context.next=24;return postUserToServer(formData,token);case 24:addNewUser();_context.next=30;break;case 27:_context.prev=27;_context.t1=_context[\"catch\"](21);if(typeof _context.t1==='string'){setError(_context.t1);}case 30:case\"end\":return _context.stop();}},_callee,null,[[10,18],[21,27]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{ref:form,className:\"UserForm__form container-sm\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Input,{className:\"UserForm__input\",placeholder:\"Your name\",value:formValues.name,isEmpty:hasError(errorFields,'name'),name:\"name\",onChange:handleOnChange}),/*#__PURE__*/_jsx(Input,{placeholder:\"Email\",className:\"UserForm__input\",isEmpty:hasError(errorFields,'email'),value:formValues.email,name:\"email\",onChange:handleOnChange}),/*#__PURE__*/_jsx(Input,{placeholder:\"Phone\",className:\"UserForm__input UserForm__input--phone\",value:formValues.phone,isEmpty:hasError(errorFields,'phone'),name:\"phone\",type:\"tel\",helperText:\"+38 (XXX) XXX - XX - XX\",onChange:handleOnChange}),!!positions.length&&/*#__PURE__*/_jsx(PositionsList,{positions:positions,currrentPosition:formValues.position_id,handleOnChange:handleOnChange}),/*#__PURE__*/_jsx(InputUpload,{name:\"photo\",onChange:handleUpload,className:\"UserForm__input-upload\",isEmpty:hasError(errorFields,'photo'),value:!!formValues.photo}),/*#__PURE__*/_jsx(Button,{type:\"submit\",content:\"Sign up\",className:\"UserForm__button\"})]});});","map":{"version":3,"names":["memo","useCallback","useEffect","useRef","useState","Input","Button","InputUpload","PositionsList","cutName","hasError","isEmail","optimizePnone","resizeFile","postUserToServer","useToken","usePositions","jsx","_jsx","jsxs","_jsxs","UserForm","_ref","addNewUser","setError","form","_useToken","token","getToken","_usePositions","positions","getPositions","_useState","_useState2","_slicedToArray","errorFields","seterrorFields","_useState3","name","email","phone","photo","position_id","_useState4","formValues","setFormValues","handleErrorFields","values","Object","entries","forEach","field","includes","concat","oldNames","_toConsumableArray","fieldValues","some","handleValidateForm","isValidEmail","isValidName","length","isValidPhone","old","fileSize","Math","round","size","isValidPhoto","isValidForm","fields","trim","isAllFieldaFilled","handleOnChange","value","oldData","_objectSpread","_defineProperty","filter","item","handleUpload","e","_e$target","target","files","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","isValid","formData","result","img","wrap","_callee$","_context","prev","next","preventDefault","abrupt","slice","FormData","current","append","sent","t0","console","error","t1","stop","_x","apply","arguments","ref","className","onSubmit","children","placeholder","isEmpty","onChange","type","helperText","currrentPosition","content"],"sources":["/Users/shkarupadenis/Documents/personal/TESTTASK/src/views/components/UserForm/UserForm.tsx"],"sourcesContent":["import {\n  ChangeEvent,\n  memo,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n  FC,\n  FormEvent,\n} from 'react';\n\nimport {\n  Input,\n  Button,\n  InputUpload,\n  PositionsList,\n} from 'views/components';\n\nimport {\n  cutName,\n  hasError,\n  isEmail,\n  optimizePnone,\n  resizeFile,\n} from 'utils/helpers';\nimport { postUserToServer } from 'api';\nimport { useToken, usePositions } from 'hooks';\nimport { FormValues } from 'types/FormValues';\nimport './UserForm.scss';\n\ninterface Props {\n  addNewUser: () => void;\n  setError: (error: string) => void;\n}\n\nexport const UserForm: FC<Props> = memo(({ addNewUser, setError }) => {\n  const form = useRef(null);\n  const { token, getToken } = useToken();\n  const { positions, getPositions } = usePositions();\n  const [errorFields, seterrorFields] = useState<string[]>([]);\n  const [formValues, setFormValues] = useState<FormValues>({\n    name: '',\n    email: '',\n    phone: '',\n    photo: null,\n    position_id: 1,\n  });\n\n  useEffect(() => {\n    getPositions();\n    getToken();\n  }, []);\n\n  const handleErrorFields = useCallback(\n    (values: Omit<FormValues, 'position_id'>) => {\n      Object.entries(values).forEach((field) => {\n        if (!field[1] && !errorFields.includes(field[0])) {\n          const hasError = errorFields.includes(`${field[0]}-empty`);\n\n          if (hasError) {\n            return;\n          }\n\n          seterrorFields((oldNames) => [...oldNames, `${field[0]}-empty`]);\n        }\n      });\n\n      const fieldValues = Object.values(values);\n\n      return !fieldValues.some((field) => !field);\n    },\n    [errorFields]\n  );\n\n  const handleValidateForm = (values: Omit<FormValues, 'position_id'>) => {\n    const { name, email, phone, photo } = values;\n\n    const isValidEmail = isEmail(email);\n    const isValidName = name.length >= 2 && name.length <= 60;\n    const isValidPhone = optimizePnone(phone).length === 13;\n\n    if (!isValidEmail && email) {\n      const hasError = errorFields.includes('email-invalid');\n\n      if (!hasError) {\n        seterrorFields((old) => [...old, 'email-invalid']);\n      }\n    }\n\n    if (!isValidName && name) {\n      const hasError = errorFields.includes('name-invalid');\n\n      if (!hasError) {\n        seterrorFields((old) => [...old, 'name-invalid']);\n      }\n    }\n\n    if (!isValidPhone && phone) {\n      const hasError = errorFields.includes('phone-invalid');\n\n      if (!hasError) {\n        seterrorFields((old) => [...old, 'phone-invalid']);\n      }\n    }\n\n    if (photo) {\n      const fileSize = Math.round(photo.size / 1024);\n      const isValidPhoto = fileSize < 5120;\n      const hasError = errorFields.includes('photo-invalid');\n\n      if (!isValidPhoto && photo && !hasError) {\n        seterrorFields((old) => [...old, 'photo-invalid']);\n      }\n    }\n\n    return isValidEmail && isValidName && isValidPhone;\n  };\n\n  const isValidForm = (form: FormValues) => {\n    const { name, photo, email, phone } = form;\n\n    const fields = { name: name.trim(), photo, email, phone };\n\n    const isAllFieldaFilled = handleErrorFields(fields);\n    const isValidForm = handleValidateForm(fields);\n\n    return isAllFieldaFilled && isValidForm;\n  };\n\n  const handleOnChange = useCallback((value: string, name: string) => {\n    setFormValues((oldData) => Object({ ...oldData, [name]: value }));\n    seterrorFields((oldNames) =>\n      oldNames.filter((item) => cutName(item) !== name)\n    );\n  }, []);\n\n  const handleUpload = useCallback((e: ChangeEvent<HTMLInputElement>) => {\n    const { name, files } = e.target;\n\n    if (!files) {\n      return;\n    }\n\n    setFormValues((oldData) => Object({ ...oldData, [name]: files[0] }));\n    seterrorFields((oldNames) =>\n      oldNames.filter((item) => cutName(item) !== name)\n    );\n  }, []);\n\n  const handleSubmit = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    const isValid = isValidForm(formValues);\n\n    if (!isValid) {\n      return;\n    }\n\n    const phone = optimizePnone(formValues.phone).slice(1);\n    const formData = new FormData(form.current as unknown as HTMLFormElement);\n    formData.append('phone', phone);\n\n    const photo = formValues.photo;\n\n    if (!photo) {\n      return;\n    }\n\n    try {\n      const result: unknown = await resizeFile(photo);\n      const img: File = result as File;\n\n      formData.append('photo', img);\n    } catch (error) {\n      console.error(error)\n    }\n\n    try {\n      await postUserToServer(formData, token);\n\n      addNewUser();\n    } catch (errorMessage) {\n      if (typeof errorMessage === 'string') {\n        setError(errorMessage);\n      }\n    }\n  };\n\n  return (\n    <form\n      ref={form}\n      className=\"UserForm__form container-sm\"\n      onSubmit={handleSubmit}\n    >\n      <Input\n        className=\"UserForm__input\"\n        placeholder=\"Your name\"\n        value={formValues.name}\n        isEmpty={hasError(errorFields, 'name')}\n        name=\"name\"\n        onChange={handleOnChange}\n      />\n      <Input\n        placeholder=\"Email\"\n        className=\"UserForm__input\"\n        isEmpty={hasError(errorFields, 'email')}\n        value={formValues.email}\n        name=\"email\"\n        onChange={handleOnChange}\n      />\n      <Input\n        placeholder=\"Phone\"\n        className=\"UserForm__input UserForm__input--phone\"\n        value={formValues.phone}\n        isEmpty={hasError(errorFields, 'phone')}\n        name=\"phone\"\n        type=\"tel\"\n        helperText=\"+38 (XXX) XXX - XX - XX\"\n        onChange={handleOnChange}\n      />\n      {!!positions.length && (\n        <PositionsList\n          positions={positions}\n          currrentPosition={formValues.position_id}\n          handleOnChange={handleOnChange}\n        />\n      )}\n      <InputUpload\n        name=\"photo\"\n        onChange={handleUpload}\n        className=\"UserForm__input-upload\"\n        isEmpty={hasError(errorFields, 'photo')}\n        value={!!formValues.photo}\n      />\n      <Button type=\"submit\" content=\"Sign up\" className=\"UserForm__button\" />\n    </form>\n  );\n});\n"],"mappings":"6zBAAA,OAEEA,IAAI,CACJC,WAAW,CACXC,SAAS,CACTC,MAAM,CACNC,QAAQ,KAGH,OAAO,CAEd,OACEC,KAAK,CACLC,MAAM,CACNC,WAAW,CACXC,aAAa,KACR,kBAAkB,CAEzB,OACEC,OAAO,CACPC,QAAQ,CACRC,OAAO,CACPC,aAAa,CACbC,UAAU,KACL,eAAe,CACtB,OAASC,gBAAgB,KAAQ,KAAK,CACtC,OAASC,QAAQ,CAAEC,YAAY,KAAQ,OAAO,CAE9C,MAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAOzB,MAAO,IAAM,CAAAC,QAAmB,cAAGrB,IAAI,CAAC,SAAAsB,IAAA,CAA8B,IAA3B,CAAAC,UAAU,CAAAD,IAAA,CAAVC,UAAU,CAAEC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CAC7D,GAAM,CAAAC,IAAI,CAAGtB,MAAM,CAAC,IAAI,CAAC,CACzB,IAAAuB,SAAA,CAA4BX,QAAQ,CAAC,CAAC,CAA9BY,KAAK,CAAAD,SAAA,CAALC,KAAK,CAAEC,QAAQ,CAAAF,SAAA,CAARE,QAAQ,CACvB,IAAAC,aAAA,CAAoCb,YAAY,CAAC,CAAC,CAA1Cc,SAAS,CAAAD,aAAA,CAATC,SAAS,CAAEC,YAAY,CAAAF,aAAA,CAAZE,YAAY,CAC/B,IAAAC,SAAA,CAAsC5B,QAAQ,CAAW,EAAE,CAAC,CAAA6B,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArDG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAClC,IAAAI,UAAA,CAAoCjC,QAAQ,CAAa,CACvDkC,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,IAAI,CACXC,WAAW,CAAE,CACf,CAAC,CAAC,CAAAC,UAAA,CAAAT,cAAA,CAAAG,UAAA,IANKO,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAQhCzC,SAAS,CAAC,UAAM,CACd6B,YAAY,CAAC,CAAC,CACdH,QAAQ,CAAC,CAAC,CACZ,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAkB,iBAAiB,CAAG7C,WAAW,CACnC,SAAC8C,MAAuC,CAAK,CAC3CC,MAAM,CAACC,OAAO,CAACF,MAAM,CAAC,CAACG,OAAO,CAAC,SAACC,KAAK,CAAK,CACxC,GAAI,CAACA,KAAK,CAAC,CAAC,CAAC,EAAI,CAAChB,WAAW,CAACiB,QAAQ,CAACD,KAAK,CAAC,CAAC,CAAC,CAAC,CAAE,CAChD,GAAM,CAAAzC,SAAQ,CAAGyB,WAAW,CAACiB,QAAQ,IAAAC,MAAA,CAAIF,KAAK,CAAC,CAAC,CAAC,UAAQ,CAAC,CAE1D,GAAIzC,SAAQ,CAAE,CACZ,OACF,CAEA0B,cAAc,CAAC,SAACkB,QAAQ,WAAAD,MAAA,CAAAE,kBAAA,CAASD,QAAQ,MAAAD,MAAA,CAAKF,KAAK,CAAC,CAAC,CAAC,cAAS,CAAC,CAClE,CACF,CAAC,CAAC,CAEF,GAAM,CAAAK,WAAW,CAAGR,MAAM,CAACD,MAAM,CAACA,MAAM,CAAC,CAEzC,MAAO,CAACS,WAAW,CAACC,IAAI,CAAC,SAACN,KAAK,QAAK,CAACA,KAAK,GAAC,CAC7C,CAAC,CACD,CAAChB,WAAW,CACd,CAAC,CAED,GAAM,CAAAuB,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIX,MAAuC,CAAK,CACtE,GAAQ,CAAAT,IAAI,CAA0BS,MAAM,CAApCT,IAAI,CAAEC,KAAK,CAAmBQ,MAAM,CAA9BR,KAAK,CAAEC,KAAK,CAAYO,MAAM,CAAvBP,KAAK,CAAEC,KAAK,CAAKM,MAAM,CAAhBN,KAAK,CAEjC,GAAM,CAAAkB,YAAY,CAAGhD,OAAO,CAAC4B,KAAK,CAAC,CACnC,GAAM,CAAAqB,WAAW,CAAGtB,IAAI,CAACuB,MAAM,EAAI,CAAC,EAAIvB,IAAI,CAACuB,MAAM,EAAI,EAAE,CACzD,GAAM,CAAAC,YAAY,CAAGlD,aAAa,CAAC4B,KAAK,CAAC,CAACqB,MAAM,GAAK,EAAE,CAEvD,GAAI,CAACF,YAAY,EAAIpB,KAAK,CAAE,CAC1B,GAAM,CAAA7B,UAAQ,CAAGyB,WAAW,CAACiB,QAAQ,CAAC,eAAe,CAAC,CAEtD,GAAI,CAAC1C,UAAQ,CAAE,CACb0B,cAAc,CAAC,SAAC2B,GAAG,WAAAV,MAAA,CAAAE,kBAAA,CAASQ,GAAG,GAAE,eAAe,IAAC,CAAC,CACpD,CACF,CAEA,GAAI,CAACH,WAAW,EAAItB,IAAI,CAAE,CACxB,GAAM,CAAA5B,UAAQ,CAAGyB,WAAW,CAACiB,QAAQ,CAAC,cAAc,CAAC,CAErD,GAAI,CAAC1C,UAAQ,CAAE,CACb0B,cAAc,CAAC,SAAC2B,GAAG,WAAAV,MAAA,CAAAE,kBAAA,CAASQ,GAAG,GAAE,cAAc,IAAC,CAAC,CACnD,CACF,CAEA,GAAI,CAACD,YAAY,EAAItB,KAAK,CAAE,CAC1B,GAAM,CAAA9B,UAAQ,CAAGyB,WAAW,CAACiB,QAAQ,CAAC,eAAe,CAAC,CAEtD,GAAI,CAAC1C,UAAQ,CAAE,CACb0B,cAAc,CAAC,SAAC2B,GAAG,WAAAV,MAAA,CAAAE,kBAAA,CAASQ,GAAG,GAAE,eAAe,IAAC,CAAC,CACpD,CACF,CAEA,GAAItB,KAAK,CAAE,CACT,GAAM,CAAAuB,QAAQ,CAAGC,IAAI,CAACC,KAAK,CAACzB,KAAK,CAAC0B,IAAI,CAAG,IAAI,CAAC,CAC9C,GAAM,CAAAC,YAAY,CAAGJ,QAAQ,CAAG,IAAI,CACpC,GAAM,CAAAtD,UAAQ,CAAGyB,WAAW,CAACiB,QAAQ,CAAC,eAAe,CAAC,CAEtD,GAAI,CAACgB,YAAY,EAAI3B,KAAK,EAAI,CAAC/B,UAAQ,CAAE,CACvC0B,cAAc,CAAC,SAAC2B,GAAG,WAAAV,MAAA,CAAAE,kBAAA,CAASQ,GAAG,GAAE,eAAe,IAAC,CAAC,CACpD,CACF,CAEA,MAAO,CAAAJ,YAAY,EAAIC,WAAW,EAAIE,YAAY,CACpD,CAAC,CAED,GAAM,CAAAO,WAAW,CAAG,SAAAA,YAAC5C,IAAgB,CAAK,CACxC,GAAQ,CAAAa,IAAI,CAA0Bb,IAAI,CAAlCa,IAAI,CAAEG,KAAK,CAAmBhB,IAAI,CAA5BgB,KAAK,CAAEF,KAAK,CAAYd,IAAI,CAArBc,KAAK,CAAEC,KAAK,CAAKf,IAAI,CAAde,KAAK,CAEjC,GAAM,CAAA8B,MAAM,CAAG,CAAEhC,IAAI,CAAEA,IAAI,CAACiC,IAAI,CAAC,CAAC,CAAE9B,KAAK,CAALA,KAAK,CAAEF,KAAK,CAALA,KAAK,CAAEC,KAAK,CAALA,KAAM,CAAC,CAEzD,GAAM,CAAAgC,iBAAiB,CAAG1B,iBAAiB,CAACwB,MAAM,CAAC,CACnD,GAAM,CAAAD,WAAW,CAAGX,kBAAkB,CAACY,MAAM,CAAC,CAE9C,MAAO,CAAAE,iBAAiB,EAAIH,WAAW,CACzC,CAAC,CAED,GAAM,CAAAI,cAAc,CAAGxE,WAAW,CAAC,SAACyE,KAAa,CAAEpC,IAAY,CAAK,CAClEO,aAAa,CAAC,SAAC8B,OAAO,QAAK,CAAA3B,MAAM,CAAA4B,aAAA,CAAAA,aAAA,IAAMD,OAAO,KAAAE,eAAA,IAAGvC,IAAI,CAAGoC,KAAK,EAAE,CAAC,GAAC,CACjEtC,cAAc,CAAC,SAACkB,QAAQ,QACtB,CAAAA,QAAQ,CAACwB,MAAM,CAAC,SAACC,IAAI,QAAK,CAAAtE,OAAO,CAACsE,IAAI,CAAC,GAAKzC,IAAI,GAAC,EACnD,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAA0C,YAAY,CAAG/E,WAAW,CAAC,SAACgF,CAAgC,CAAK,CACrE,IAAAC,SAAA,CAAwBD,CAAC,CAACE,MAAM,CAAxB7C,IAAI,CAAA4C,SAAA,CAAJ5C,IAAI,CAAE8C,KAAK,CAAAF,SAAA,CAALE,KAAK,CAEnB,GAAI,CAACA,KAAK,CAAE,CACV,OACF,CAEAvC,aAAa,CAAC,SAAC8B,OAAO,QAAK,CAAA3B,MAAM,CAAA4B,aAAA,CAAAA,aAAA,IAAMD,OAAO,KAAAE,eAAA,IAAGvC,IAAI,CAAG8C,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,GAAC,CACpEhD,cAAc,CAAC,SAACkB,QAAQ,QACtB,CAAAA,QAAQ,CAACwB,MAAM,CAAC,SAACC,IAAI,QAAK,CAAAtE,OAAO,CAACsE,IAAI,CAAC,GAAKzC,IAAI,GAAC,EACnD,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAA+C,YAAY,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOT,CAA6B,MAAAU,OAAA,CAAAnD,KAAA,CAAAoD,QAAA,CAAAnD,KAAA,CAAAoD,MAAA,CAAAC,GAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACvDlB,CAAC,CAACmB,cAAc,CAAC,CAAC,CAEZT,OAAO,CAAGtB,WAAW,CAACzB,UAAU,CAAC,IAElC+C,OAAO,EAAAM,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAI,MAAA,kBAIN7D,KAAK,CAAG5B,aAAa,CAACgC,UAAU,CAACJ,KAAK,CAAC,CAAC8D,KAAK,CAAC,CAAC,CAAC,CAChDV,QAAQ,CAAG,GAAI,CAAAW,QAAQ,CAAC9E,IAAI,CAAC+E,OAAqC,CAAC,CACzEZ,QAAQ,CAACa,MAAM,CAAC,OAAO,CAAEjE,KAAK,CAAC,CAEzBC,KAAK,CAAGG,UAAU,CAACH,KAAK,IAEzBA,KAAK,EAAAwD,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAI,MAAA,mBAAAJ,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAE,IAAA,UAKsB,CAAAtF,UAAU,CAAC4B,KAAK,CAAC,SAAzCoD,MAAe,CAAAI,QAAA,CAAAS,IAAA,CACfZ,GAAS,CAAGD,MAAM,CAExBD,QAAQ,CAACa,MAAM,CAAC,OAAO,CAAEX,GAAG,CAAC,CAACG,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAU,EAAA,CAAAV,QAAA,cAE9BW,OAAO,CAACC,KAAK,CAAAZ,QAAA,CAAAU,EAAM,CAAC,SAAAV,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAE,IAAA,UAId,CAAArF,gBAAgB,CAAC8E,QAAQ,CAAEjE,KAAK,CAAC,SAEvCJ,UAAU,CAAC,CAAC,CAAC0E,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAa,EAAA,CAAAb,QAAA,cAEb,GAAI,OAAAA,QAAA,CAAAa,EAAmB,GAAK,QAAQ,CAAE,CACpCtF,QAAQ,CAAAyE,QAAA,CAAAa,EAAa,CAAC,CACxB,CAAC,yBAAAb,QAAA,CAAAc,IAAA,MAAArB,OAAA,0BAEJ,kBArCK,CAAAL,YAAYA,CAAA2B,EAAA,SAAA1B,KAAA,CAAA2B,KAAA,MAAAC,SAAA,OAqCjB,CAED,mBACE9F,KAAA,SACE+F,GAAG,CAAE1F,IAAK,CACV2F,SAAS,CAAC,6BAA6B,CACvCC,QAAQ,CAAEhC,YAAa,CAAAiC,QAAA,eAEvBpG,IAAA,CAACb,KAAK,EACJ+G,SAAS,CAAC,iBAAiB,CAC3BG,WAAW,CAAC,WAAW,CACvB7C,KAAK,CAAE9B,UAAU,CAACN,IAAK,CACvBkF,OAAO,CAAE9G,QAAQ,CAACyB,WAAW,CAAE,MAAM,CAAE,CACvCG,IAAI,CAAC,MAAM,CACXmF,QAAQ,CAAEhD,cAAe,CAC1B,CAAC,cACFvD,IAAA,CAACb,KAAK,EACJkH,WAAW,CAAC,OAAO,CACnBH,SAAS,CAAC,iBAAiB,CAC3BI,OAAO,CAAE9G,QAAQ,CAACyB,WAAW,CAAE,OAAO,CAAE,CACxCuC,KAAK,CAAE9B,UAAU,CAACL,KAAM,CACxBD,IAAI,CAAC,OAAO,CACZmF,QAAQ,CAAEhD,cAAe,CAC1B,CAAC,cACFvD,IAAA,CAACb,KAAK,EACJkH,WAAW,CAAC,OAAO,CACnBH,SAAS,CAAC,wCAAwC,CAClD1C,KAAK,CAAE9B,UAAU,CAACJ,KAAM,CACxBgF,OAAO,CAAE9G,QAAQ,CAACyB,WAAW,CAAE,OAAO,CAAE,CACxCG,IAAI,CAAC,OAAO,CACZoF,IAAI,CAAC,KAAK,CACVC,UAAU,CAAC,yBAAyB,CACpCF,QAAQ,CAAEhD,cAAe,CAC1B,CAAC,CACD,CAAC,CAAC3C,SAAS,CAAC+B,MAAM,eACjB3C,IAAA,CAACV,aAAa,EACZsB,SAAS,CAAEA,SAAU,CACrB8F,gBAAgB,CAAEhF,UAAU,CAACF,WAAY,CACzC+B,cAAc,CAAEA,cAAe,CAChC,CACF,cACDvD,IAAA,CAACX,WAAW,EACV+B,IAAI,CAAC,OAAO,CACZmF,QAAQ,CAAEzC,YAAa,CACvBoC,SAAS,CAAC,wBAAwB,CAClCI,OAAO,CAAE9G,QAAQ,CAACyB,WAAW,CAAE,OAAO,CAAE,CACxCuC,KAAK,CAAE,CAAC,CAAC9B,UAAU,CAACH,KAAM,CAC3B,CAAC,cACFvB,IAAA,CAACZ,MAAM,EAACoH,IAAI,CAAC,QAAQ,CAACG,OAAO,CAAC,SAAS,CAACT,SAAS,CAAC,kBAAkB,CAAE,CAAC,EACnE,CAAC,CAEX,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}