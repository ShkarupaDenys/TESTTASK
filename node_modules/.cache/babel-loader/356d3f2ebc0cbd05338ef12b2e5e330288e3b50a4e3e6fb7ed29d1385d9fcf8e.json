{"ast":null,"code":"var _jsxFileName = \"/Users/shkarupadenis/Documents/personal/TESTTASK/src/views/components/UserForm/UserForm.tsx\",\n  _s = $RefreshSig$();\nimport { memo, useCallback, useEffect, useRef, useState } from 'react';\nimport { Input, Button, InputUpload, PositionsList } from 'views/components';\nimport { cutName, hasError, isEmail, optimizePnone, resizeFile } from 'utils/helpers';\nimport { postUserToServer } from 'api';\nimport { useToken, usePositions } from 'hooks';\nimport './UserForm.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const UserForm = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(_ref => {\n  _s();\n  let {\n    addNewUser,\n    setError\n  } = _ref;\n  const form = useRef(null);\n  const {\n    token,\n    getToken\n  } = useToken();\n  const {\n    positions,\n    getPositions\n  } = usePositions();\n  const [errorFields, seterrorFields] = useState([]);\n  const [formValues, setFormValues] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    photo: null,\n    position_id: 1\n  });\n  useEffect(() => {\n    getPositions();\n    getToken();\n  }, []);\n  const handleErrorFields = useCallback(values => {\n    Object.entries(values).forEach(field => {\n      if (!field[1] && !errorFields.includes(field[0])) {\n        const hasError = errorFields.includes(`${field[0]}-empty`);\n        if (hasError) {\n          return;\n        }\n        seterrorFields(oldNames => [...oldNames, `${field[0]}-empty`]);\n      }\n    });\n    const fieldValues = Object.values(values);\n    return !fieldValues.some(field => !field);\n  }, [errorFields]);\n  const handleValidateForm = values => {\n    const {\n      name,\n      email,\n      phone,\n      photo\n    } = values;\n    const isValidEmail = isEmail(email);\n    const isValidName = name.length >= 2 && name.length <= 60;\n    const isValidPhone = optimizePnone(phone).length === 13;\n    if (!isValidEmail && email) {\n      const hasError = errorFields.includes('email-invalid');\n      if (!hasError) {\n        seterrorFields(old => [...old, 'email-invalid']);\n      }\n    }\n    if (!isValidName && name) {\n      const hasError = errorFields.includes('name-invalid');\n      if (!hasError) {\n        seterrorFields(old => [...old, 'name-invalid']);\n      }\n    }\n    if (!isValidPhone && phone) {\n      const hasError = errorFields.includes('phone-invalid');\n      if (!hasError) {\n        seterrorFields(old => [...old, 'phone-invalid']);\n      }\n    }\n    if (photo) {\n      const fileSize = Math.round(photo.size / 1024);\n      const isValidPhoto = fileSize < 5120;\n      const hasError = errorFields.includes('photo-invalid');\n      if (!isValidPhoto && photo && !hasError) {\n        seterrorFields(old => [...old, 'photo-invalid']);\n      }\n    }\n    return isValidEmail && isValidName && isValidPhone;\n  };\n  const isValidForm = form => {\n    const {\n      name,\n      photo,\n      email,\n      phone\n    } = form;\n    const fields = {\n      name: name.trim(),\n      photo,\n      email,\n      phone\n    };\n    const isAllFieldaFilled = handleErrorFields(fields);\n    const isValidForm = handleValidateForm(fields);\n    return isAllFieldaFilled && isValidForm;\n  };\n  const handleOnChange = useCallback((value, name) => {\n    setFormValues(oldData => Object({\n      ...oldData,\n      [name]: value\n    }));\n    seterrorFields(oldNames => oldNames.filter(item => cutName(item) !== name));\n  }, []);\n  const handleUpload = useCallback(e => {\n    const {\n      name,\n      files\n    } = e.target;\n    if (!files) {\n      return;\n    }\n    setFormValues(oldData => Object({\n      ...oldData,\n      [name]: files[0]\n    }));\n    seterrorFields(oldNames => oldNames.filter(item => cutName(item) !== name));\n  }, []);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const isValid = isValidForm(formValues);\n    if (!isValid) {\n      return;\n    }\n    const phone = optimizePnone(formValues.phone).slice(1);\n    const formData = new FormData(form.current);\n    formData.append('phone', phone);\n    const photo = formValues.photo;\n    if (!photo) {\n      return;\n    }\n    try {\n      const result = await resizeFile(photo);\n      const img = result;\n      formData.append('photo', img);\n    } catch (error) {\n      console.error(error);\n    }\n    try {\n      const user = await postUserToServer(formData, token);\n      addNewUser(user);\n    } catch (errorMessage) {\n      if (typeof errorMessage === 'string') {\n        setError(errorMessage);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    ref: form,\n    className: \"UserForm__form container-sm\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Input, {\n      className: \"UserForm__input\",\n      placeholder: \"Your name\",\n      value: formValues.name,\n      isEmpty: hasError(errorFields, 'name'),\n      name: \"name\",\n      onChange: handleOnChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      placeholder: \"Email\",\n      className: \"UserForm__input\",\n      isEmpty: hasError(errorFields, 'email'),\n      value: formValues.email,\n      name: \"email\",\n      onChange: handleOnChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      placeholder: \"Phone\",\n      className: \"UserForm__input UserForm__input--phone\",\n      value: formValues.phone,\n      isEmpty: hasError(errorFields, 'phone'),\n      name: \"phone\",\n      type: \"tel\",\n      helperText: \"+38 (XXX) XXX - XX - XX\",\n      onChange: handleOnChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), !!positions.length && /*#__PURE__*/_jsxDEV(PositionsList, {\n      positions: positions,\n      currrentPosition: formValues.position_id,\n      handleOnChange: handleOnChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(InputUpload, {\n      name: \"photo\",\n      onChange: handleUpload,\n      className: \"UserForm__input-upload\",\n      isEmpty: hasError(errorFields, 'photo'),\n      value: !!formValues.photo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      content: \"Sign up\",\n      className: \"UserForm__button\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this);\n}, \"fN4J3vaXNXO/EpS/iDYsVGS825s=\", false, function () {\n  return [useToken, usePositions];\n})), \"fN4J3vaXNXO/EpS/iDYsVGS825s=\", false, function () {\n  return [useToken, usePositions];\n});\n_c2 = UserForm;\nvar _c, _c2;\n$RefreshReg$(_c, \"UserForm$memo\");\n$RefreshReg$(_c2, \"UserForm\");","map":{"version":3,"names":["memo","useCallback","useEffect","useRef","useState","Input","Button","InputUpload","PositionsList","cutName","hasError","isEmail","optimizePnone","resizeFile","postUserToServer","useToken","usePositions","jsxDEV","_jsxDEV","UserForm","_s","_c","_ref","addNewUser","setError","form","token","getToken","positions","getPositions","errorFields","seterrorFields","formValues","setFormValues","name","email","phone","photo","position_id","handleErrorFields","values","Object","entries","forEach","field","includes","oldNames","fieldValues","some","handleValidateForm","isValidEmail","isValidName","length","isValidPhone","old","fileSize","Math","round","size","isValidPhoto","isValidForm","fields","trim","isAllFieldaFilled","handleOnChange","value","oldData","filter","item","handleUpload","e","files","target","handleSubmit","preventDefault","isValid","slice","formData","FormData","current","append","result","img","error","console","user","errorMessage","ref","className","onSubmit","children","placeholder","isEmpty","onChange","fileName","_jsxFileName","lineNumber","columnNumber","type","helperText","currrentPosition","content","_c2","$RefreshReg$"],"sources":["/Users/shkarupadenis/Documents/personal/TESTTASK/src/views/components/UserForm/UserForm.tsx"],"sourcesContent":["import {\n  memo,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n  FC,\n  FormEvent,\n} from 'react';\n\nimport {\n  Input,\n  Button,\n  InputUpload,\n  PositionsList,\n} from 'views/components';\n\nimport {\n  cutName,\n  hasError,\n  isEmail,\n  optimizePnone,\n  resizeFile,\n} from 'utils/helpers';\nimport { postUserToServer } from 'api';\nimport { useToken, usePositions } from 'hooks';\nimport { User, FormValues, OnChange } from 'types';\nimport './UserForm.scss';\n\ninterface Props {\n  addNewUser: (user: User) => void;\n  setError: (error: string) => void;\n}\n\nexport const UserForm: FC<Props> = memo(({ addNewUser, setError }) => {\n  const form = useRef(null);\n  const { token, getToken } = useToken();\n  const { positions, getPositions } = usePositions();\n  const [errorFields, seterrorFields] = useState<string[]>([]);\n  const [formValues, setFormValues] = useState<FormValues>({\n    name: '',\n    email: '',\n    phone: '',\n    photo: null,\n    position_id: 1,\n  });\n\n  useEffect(() => {\n    getPositions();\n    getToken();\n  }, []);\n\n  const handleErrorFields = useCallback(\n    (values: Omit<FormValues, 'position_id'>) => {\n      Object.entries(values).forEach((field) => {\n        if (!field[1] && !errorFields.includes(field[0])) {\n          const hasError = errorFields.includes(`${field[0]}-empty`);\n\n          if (hasError) {\n            return;\n          }\n\n          seterrorFields((oldNames) => [...oldNames, `${field[0]}-empty`]);\n        }\n      });\n\n      const fieldValues = Object.values(values);\n\n      return !fieldValues.some((field) => !field);\n    },\n    [errorFields]\n  );\n\n  const handleValidateForm = (values: Omit<FormValues, 'position_id'>) => {\n    const { name, email, phone, photo } = values;\n\n    const isValidEmail = isEmail(email);\n    const isValidName = name.length >= 2 && name.length <= 60;\n    const isValidPhone = optimizePnone(phone).length === 13;\n\n    if (!isValidEmail && email) {\n      const hasError = errorFields.includes('email-invalid');\n\n      if (!hasError) {\n        seterrorFields((old) => [...old, 'email-invalid']);\n      }\n    }\n\n    if (!isValidName && name) {\n      const hasError = errorFields.includes('name-invalid');\n\n      if (!hasError) {\n        seterrorFields((old) => [...old, 'name-invalid']);\n      }\n    }\n\n    if (!isValidPhone && phone) {\n      const hasError = errorFields.includes('phone-invalid');\n\n      if (!hasError) {\n        seterrorFields((old) => [...old, 'phone-invalid']);\n      }\n    }\n\n    if (photo) {\n      const fileSize = Math.round(photo.size / 1024);\n      const isValidPhoto = fileSize < 5120;\n      const hasError = errorFields.includes('photo-invalid');\n\n      if (!isValidPhoto && photo && !hasError) {\n        seterrorFields((old) => [...old, 'photo-invalid']);\n      }\n    }\n\n    return isValidEmail && isValidName && isValidPhone;\n  };\n\n  const isValidForm = (form: FormValues) => {\n    const { name, photo, email, phone } = form;\n\n    const fields = { name: name.trim(), photo, email, phone };\n\n    const isAllFieldaFilled = handleErrorFields(fields);\n    const isValidForm = handleValidateForm(fields);\n\n    return isAllFieldaFilled && isValidForm;\n  };\n\n  const handleOnChange = useCallback((value: string, name: string) => {\n    setFormValues((oldData) => Object({ ...oldData, [name]: value }));\n    seterrorFields((oldNames) =>\n      oldNames.filter((item) => cutName(item) !== name)\n    );\n  }, []);\n\n  const handleUpload = useCallback((e: OnChange) => {\n    const { name, files } = e.target;\n\n    if (!files) {\n      return;\n    }\n\n    setFormValues((oldData) => Object({ ...oldData, [name]: files[0] }));\n    seterrorFields((oldNames) =>\n      oldNames.filter((item) => cutName(item) !== name)\n    );\n  }, []);\n\n  const handleSubmit = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    const isValid = isValidForm(formValues);\n\n    if (!isValid) {\n      return;\n    }\n\n    const phone = optimizePnone(formValues.phone).slice(1);\n    const formData = new FormData(form.current as unknown as HTMLFormElement);\n    formData.append('phone', phone);\n\n    const photo = formValues.photo;\n\n    if (!photo) {\n      return;\n    }\n\n    try {\n      const result: unknown = await resizeFile(photo);\n      const img: File = result as File;\n\n      formData.append('photo', img);\n    } catch (error) {\n      console.error(error)\n    }\n\n    try {\n      const user = await postUserToServer(formData, token);\n\n      addNewUser(user);\n    } catch (errorMessage) {\n      if (typeof errorMessage === 'string') {\n        setError(errorMessage);\n      }\n    }\n  };\n\n  return (\n    <form\n      ref={form}\n      className=\"UserForm__form container-sm\"\n      onSubmit={handleSubmit}\n    >\n      <Input\n        className=\"UserForm__input\"\n        placeholder=\"Your name\"\n        value={formValues.name}\n        isEmpty={hasError(errorFields, 'name')}\n        name=\"name\"\n        onChange={handleOnChange}\n      />\n      <Input\n        placeholder=\"Email\"\n        className=\"UserForm__input\"\n        isEmpty={hasError(errorFields, 'email')}\n        value={formValues.email}\n        name=\"email\"\n        onChange={handleOnChange}\n      />\n      <Input\n        placeholder=\"Phone\"\n        className=\"UserForm__input UserForm__input--phone\"\n        value={formValues.phone}\n        isEmpty={hasError(errorFields, 'phone')}\n        name=\"phone\"\n        type=\"tel\"\n        helperText=\"+38 (XXX) XXX - XX - XX\"\n        onChange={handleOnChange}\n      />\n      {!!positions.length && (\n        <PositionsList\n          positions={positions}\n          currrentPosition={formValues.position_id}\n          handleOnChange={handleOnChange}\n        />\n      )}\n      <InputUpload\n        name=\"photo\"\n        onChange={handleUpload}\n        className=\"UserForm__input-upload\"\n        isEmpty={hasError(errorFields, 'photo')}\n        value={!!formValues.photo}\n      />\n      <Button type=\"submit\" content=\"Sign up\" className=\"UserForm__button\" />\n    </form>\n  );\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}