{"ast":null,"code":"import _slicedToArray from\"/Users/shkarupadenis/Documents/personal/TESTTASK/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{Header,Button,Section,UserForm,UsersList,HeroScreen,Notification}from'views/components';import{Success}from'views/icons';import{useUser}from'hooks';import'Main.scss';import{Loading}from'types';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Main=function Main(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useUser=useUser(),newUser=_useUser.newUser,nextUrl=_useUser.nextUrl,loading=_useUser.loading,visibleUsers=_useUser.visibleUsers,addNewUser=_useUser.addNewUser,getUsers=_useUser.getUsers;useEffect(function(){getUsers();},[]);useEffect(function(){var timer=setTimeout(function(){return setError('');},3000);return function(){return clearTimeout(timer);};},[error]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(HeroScreen,{}),/*#__PURE__*/_jsxs(Section,{className:\"Users\",id:\"Users\",title:\"Working with GET request\",children:[/*#__PURE__*/_jsx(UsersList,{users:visibleUsers}),nextUrl&&/*#__PURE__*/_jsx(Button,{size:\"md\",content:\"Show more\",className:\"Users__button\",loading:loading===Loading.ShowMore,onClick:getUsers})]}),/*#__PURE__*/_jsx(Section,{className:\"NewUserForm\",id:\"NewUserForm\",title:newUser?'User successfully registered':'Working with POST request',children:newUser?/*#__PURE__*/_jsx(Success,{className:\"NewUserForm__icon\"}):/*#__PURE__*/_jsx(UserForm,{addNewUser:addNewUser,setError:setError})}),error&&/*#__PURE__*/_jsx(Notification,{text:error})]});};export default Main;","map":{"version":3,"names":["useEffect","useState","Header","Button","Section","UserForm","UsersList","HeroScreen","Notification","Success","useUser","Loading","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Main","_useState","_useState2","_slicedToArray","error","setError","_useUser","newUser","nextUrl","loading","visibleUsers","addNewUser","getUsers","timer","setTimeout","clearTimeout","children","className","id","title","users","size","content","ShowMore","onClick","text"],"sources":["/Users/shkarupadenis/Documents/personal/TESTTASK/src/Main.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport {\n  Header,\n  Button,\n  Section,\n  UserForm,\n  UsersList,\n  HeroScreen,\n  Notification,\n} from 'views/components';\nimport { Success } from 'views/icons';\nimport { useUser } from 'hooks';\nimport 'Main.scss';\nimport { Loading } from 'types';\n\nexport const Main = () => {\n  const [error, setError] = useState<string>('');\n  const { newUser, nextUrl, loading, visibleUsers, addNewUser, getUsers } = useUser();\n\n  useEffect(() => {\n    getUsers();\n  }, []);\n\n  useEffect(() => {\n    const timer = setTimeout(() => setError(''), 3000);\n\n    return () => clearTimeout(timer);\n  }, [error]);\n\n  return (\n    <>\n      <Header />\n      <HeroScreen />\n      <Section\n        className=\"Users\"\n        id=\"Users\"\n        title=\"Working with GET request\"\n      >\n        <UsersList users={visibleUsers} />\n        {nextUrl && (\n          <Button\n            size=\"md\"\n            content=\"Show more\"\n            className=\"Users__button\"\n            loading={loading === Loading.ShowMore}\n            onClick={getUsers}\n          />\n        )}\n      </Section>\n      <Section\n        className=\"NewUserForm\"\n        id=\"NewUserForm\"\n        title={newUser\n          ? 'User successfully registered'\n          : 'Working with POST request'}\n      >\n        {newUser\n          ? <Success className='NewUserForm__icon' />\n          : <UserForm addNewUser={addNewUser} setError={setError} />}\n      </Section>\n      {error && <Notification text={error} />}\n    </>\n  );\n};\n\nexport default Main;\n"],"mappings":"sIAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OACEC,MAAM,CACNC,MAAM,CACNC,OAAO,CACPC,QAAQ,CACRC,SAAS,CACTC,UAAU,CACVC,YAAY,KACP,kBAAkB,CACzB,OAASC,OAAO,KAAQ,aAAa,CACrC,OAASC,OAAO,KAAQ,OAAO,CAC/B,MAAO,WAAW,CAClB,OAASC,OAAO,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEhC,MAAO,IAAM,CAAAC,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAA,CAAS,CACxB,IAAAC,SAAA,CAA0BlB,QAAQ,CAAS,EAAE,CAAC,CAAAmB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAvCG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,QAAA,CAA0Ed,OAAO,CAAC,CAAC,CAA3Ee,OAAO,CAAAD,QAAA,CAAPC,OAAO,CAAEC,OAAO,CAAAF,QAAA,CAAPE,OAAO,CAAEC,OAAO,CAAAH,QAAA,CAAPG,OAAO,CAAEC,YAAY,CAAAJ,QAAA,CAAZI,YAAY,CAAEC,UAAU,CAAAL,QAAA,CAAVK,UAAU,CAAEC,QAAQ,CAAAN,QAAA,CAARM,QAAQ,CAErE9B,SAAS,CAAC,UAAM,CACd8B,QAAQ,CAAC,CAAC,CACZ,CAAC,CAAE,EAAE,CAAC,CAEN9B,SAAS,CAAC,UAAM,CACd,GAAM,CAAA+B,KAAK,CAAGC,UAAU,CAAC,iBAAM,CAAAT,QAAQ,CAAC,EAAE,CAAC,GAAE,IAAI,CAAC,CAElD,MAAO,kBAAM,CAAAU,YAAY,CAACF,KAAK,CAAC,GAClC,CAAC,CAAE,CAACT,KAAK,CAAC,CAAC,CAEX,mBACEP,KAAA,CAAAE,SAAA,EAAAiB,QAAA,eACErB,IAAA,CAACX,MAAM,GAAE,CAAC,cACVW,IAAA,CAACN,UAAU,GAAE,CAAC,cACdQ,KAAA,CAACX,OAAO,EACN+B,SAAS,CAAC,OAAO,CACjBC,EAAE,CAAC,OAAO,CACVC,KAAK,CAAC,0BAA0B,CAAAH,QAAA,eAEhCrB,IAAA,CAACP,SAAS,EAACgC,KAAK,CAAEV,YAAa,CAAE,CAAC,CACjCF,OAAO,eACNb,IAAA,CAACV,MAAM,EACLoC,IAAI,CAAC,IAAI,CACTC,OAAO,CAAC,WAAW,CACnBL,SAAS,CAAC,eAAe,CACzBR,OAAO,CAAEA,OAAO,GAAKhB,OAAO,CAAC8B,QAAS,CACtCC,OAAO,CAAEZ,QAAS,CACnB,CACF,EACM,CAAC,cACVjB,IAAA,CAACT,OAAO,EACN+B,SAAS,CAAC,aAAa,CACvBC,EAAE,CAAC,aAAa,CAChBC,KAAK,CAAEZ,OAAO,CACV,8BAA8B,CAC9B,2BAA4B,CAAAS,QAAA,CAE/BT,OAAO,cACJZ,IAAA,CAACJ,OAAO,EAAC0B,SAAS,CAAC,mBAAmB,CAAE,CAAC,cACzCtB,IAAA,CAACR,QAAQ,EAACwB,UAAU,CAAEA,UAAW,CAACN,QAAQ,CAAEA,QAAS,CAAE,CAAC,CACrD,CAAC,CACTD,KAAK,eAAIT,IAAA,CAACL,YAAY,EAACmC,IAAI,CAAErB,KAAM,CAAE,CAAC,EACvC,CAAC,CAEP,CAAC,CAED,cAAe,CAAAJ,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}